{% extends "layouts/base.html" %}
{% import "macros/form_utils.html" as utils %}

{% block body_content %}
	<div class="page-header">
		<h3>{{ gene_list.list_id }}</h3>
	</div>

	<div class="row">
		<div class="col-md-6">
			<div class="panel panel-default">
				<div class="panel-heading">Genes</div>
				<ul class="list-group">
					{% for gene_id in gene_list.gene_ids %}
						<li class="list-group-item">{{ gene_id }}</li>
					{% endfor %}
				</ul>
			</div>
		</div>

		<div class="col-md-6">
			<div class="panel panel-default">
				<div class="panel-heading">Cases</div>
				<ul class="list-group">
					{% for case in gene_list.cases %}
						<li class="list-group-item">
							<a href="{{ url_for('public.case', case_id=case.case_id) }}" title="{{ case.name }}">{{ case.name }}</a>
						</li>
					{% else %}
						<li class="list-group-item">Not linked to any cases.</li>
					{% endfor %}
				</ul>
			</div>

			<div class="panel panel-default">
				<div class="panel-heading">Add gene list to case</div>
				<div class="panel-body">
					<form action="{{ url_for('public.gene_list', list_id=gene_list.list_id) }}" method="POST" accept-charset="utf-8">
						<div class="row">
							<div class="col-md-8">
								{{ utils.select_input('case_id', cases|map(attribute='case_id'), multiple=True) }}
							</div>
							<div class="col-md-4">
								<button class="form-control btn btn-default" type="submit">Link</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
